# 更新历史

### V1.7.0 (2021-02-05)
- 本版本为SDK版本
- 去Spring等框架依赖，更好地支持第三方以jar形式引入；
- 升级分库分表和分布式调度等基础库；
- 增加导出启停的API接口；
- 增加导出数据类型可选功能；
- 支持多链多群组调用


### V1.6.0 (2020-12-08)
- 增加ES存储支持
- web3sdk替换为新版java sdk
- 支持多群组数据导出
- 将Monkey整合到Bee中
- 适配2.6版本的fisco-bcos

### V1.3.2 (2020-07-01)
- 增加配置生成表名的前缀和后缀的配置。
- 升级web3sdk到2.4.2。
- 一键运行脚本支持指定版本来编译及运行。
- 修改Jackson和数据库的默认时区。
- 添加ddl自动转义的配置。
- 修复在Mac系统下脚本显示报错的问题。
- 优化JPA快速查询的功能。

### V1.3.1 （2020-06-15）
- 升级web3sdk到2.4.1
- 升级Springboot到2.2.8
- 删除fastjson

### V1.3.0 （2020-05-26）
- 添加github勋章，包括coderefactor、travisci、codecov、synk、codacy等。
- 升级bee的gradle版本
- 升级web3sdk版本
- 升级spring和junit版本
- 升级shardingjdbc版本
- 增加swagger开关，可通过配置关闭。
- 增加国密/ECC的密码开关。
- 增加对用户配置项的检查，增加执行过程中的出错检查，提升用户体验。
- 修改项目的下载项，优化用户体验。
- 支持通过config文件的方式配置solidity类型与Java类型的映射和个性化处理。
- 修复grafana部分事件和日志无法展示的错误。
- 优化部分系统表结构，使得占用空间更小。
- 优化solidity转TypeReference的功能。
- 去除bee项目编译中的部分报警信息。
- 增加个性化测试配置，支持独立运行测试案例。
- 修复部分event数据结构解析的错误。
- 修复method导出无返回结果，修复method导出部分数组类型格式错误的问题。
- 完善和修改文档中存在的问题。
- 增加对Java文件配置和Java package命名配置的检查。
- 修复国密配置下无法导出method数据的问题。

---

### V1.2.0 (2019-10-24)
- 在导出的事件表，添加事件合约地址。
- 在导出的函数表，添加函数执行响应码。
- 增加int256定长数组支持。
- 增加bytes32长定长数组支持。
- 支持uint256数组支持
- 增加对合约调用的事件导出的支持。
- 增加对表结构字段长度的裁剪配置，支持对超过56位的表名进行裁剪。
- 对is开头的变量进行裁剪转换。
- 增加对fisco-bcos 2.1.0的支持。

---

### V1.1.0 (2019-08-20)
- 大幅重构了系统的代码，使得系统安装多模块的方式可以灵活组装。
- 重构了系统服务层的代码。
- 适配了FISCO-BCOS2.0.0 和 web3sdk2.0.5
- 修改了Java文件包名和类名映射的检查，修改了报错提示的方式
- 新增两个Event API查询，支持通过指定任意and和or条件或任意两个参数进行查询。
- 增加对method解析中selector方法忽略的判断
- 适配DynamicBytes和Boolean的支持
- 对所有method表，增加了contractAddress字段
- 修复了sharding-jdbc-spring-boot-starter分页查询的问题
- 修改了event表的命名方式，数据库表明以_event为后缀
- 修改了account、constuctor method解析的方式，改为了读取runtime code来判断
- 增加了对异构合约相同methodId场景的支持，将method解析改为按合约为维度
- 新增了account specification API查询
- 优化了部分性能，如优化了调用流程，添加了部分查询的EhCache机制
- 修改了文档的组织样式
- 支持了部分定长数组的映射方式
- 支持了Java文件中，byte数组和List
- 修改了服务启停的方式，增加了全路径判断，防止进程误杀
- 修改了默认启动端口为5200
- 修改了数据库默认字段添加前缀『_』
- 修改了证书加载的默认方式，改为默认从config路径下加载
- 修复了部分API参数为空的检测
- 修复了byte数组转换错误的bug
- 修复了默认分库inline表达式下不支持between的错误

---

#### V1.0.0 （2019-06-27）
- 优化了单机模式下的任务处理流程和性能。

---

#### V0.7.0 (2019-06-20)
- 适配FISCO-BCOS 2.0.0-rc3
- 修复了不同环境下编译的合约无法导出account和contructor的缺陷
- 重构了部分不规范日志打印方式
- 重命名项目名，并适配
- 去除了elastic-job的事件监听日志
- 修复了不同编译器下构造函数解析的bug

---

#### V0.6.0 (2019-05-30)
- 适配FISCO-BCOS 2.0 RC1。
- 重构了主要的日志打印，便于显示和监控。
- 新增了任务准备环节的事务控制。
- 增加了对任务控制环节的扫描检查阶段，可自动检查缺块或少块等。
- 修复了合约无event会报错的问题。
- 将Mysql字符集从utf8改为utf8mb4。
- 新增支持『原始数据命名』的数据库字段命名方式。
- 新增支持数据库表的字段添加指定的前缀和后缀。
- 提供了数据导出工具导出的监控脚本；

---

#### V0.5.0 (2019-04-02)

- 增加了数据导出的业务监控可视化页面，并支持自动化配置；
- 重构数据回滚和异常处理的流程,增加了数据下载异常、超时的判断和处理；
- 增加了链分叉判断的处理逻辑；
- 重构了单机模式数据同步的流程和数据结构，合并为统一的block_task_pool表；
- 支持设置从某个时间或某个区块高度导出区块数据；
- 支持手动回滚并重新导出某个区块数据；

---

#### V0.4.0 (2019-03-18)

- 集成sharding-jdbc，支持分库分表导出
- 集成elastic-job，支持集群部署
- 支持静态数组StaticArray的导出

---

#### V0.3.0 （2018-12-25）

- 增加OpenAPI,支持以Restful的接口直接获取后台数据；
- 支持Method数据导出的开关；
- 修复各类已知bug；
- 完善设计等文档；

---

#### V0.2.0 （2018-12-21）

- 增加Method数据depot功能；
- 增加合约地址depot功能；
- 修改任务分配方式，改为以Block为单位；
- 支持智能下载的策略；
- 支持Bytes等格式数据的解析；
- 修改depot表的结构；

---

#### V0.1.0 （2018-12-18）
- 支持合约Event数据导出；
- 支持根据脚本自动生成和执行；
- 可基于多线程导出Events数据；
