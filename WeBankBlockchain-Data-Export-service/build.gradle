bootJar {
	destinationDir file('dist')
	archiveName project.name + version + '.jar'
    doLast {
        copy {
            from file('tools/')
            into 'dist/'
        }
		copy {
			from configurations.runtime
			into 'dist/lib'
		}
		copy {
            from file('src/main/resources/application.properties')
            into 'dist/config/'
        }
        copy {
            from file('src/main/resources/web3j.def')
            into 'dist/config/'
        }
		copy {
			from file('.').listFiles().findAll{File f -> (f.name.endsWith('.crt') || f.name.endsWith('.keystore'))}
			into 'dist/config'
		}
		copy {
            from file('config/contract/')
            into 'dist/config/contract'
        }
	}
}

clean {
    println "delete ${projectDir}/dist"
    delete "${projectDir}/dist"
}


